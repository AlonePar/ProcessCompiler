@prefix rdf:  <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix owl:  <http://www.w3.org/2002/07/owl#> .
@prefix xsd:  <http://www.w3.org/2001/XMLSchema#> .
@prefix dem:  <http://www.pericles-project.eu/ns/dem#> .
@prefix dva:  <http://www.pericles-project.eu/ns/dva#> .
@prefix nar2: <http://www.pericles-project.eu/ns/narrative2#> .

############ AGGREGATED PROCESSES ###############

#### Get All Metadata ####
nar2:agpGetAllMD a dem:AggregatedProcess ;
  dem:name "AggregatedProcess Get All Metadata" ;
  dem:description "Aggregated process that extract metadata from video artwork files and combine it with additional metadata (from TMS records)" ;
  dem:version "1" ;
  dem:hasInputSlot nar2:isGetAllMD_DVA, nar2:isGetAllMD_Opt, nar2:isGetAllMD_ID ;
  dem:hasOutputSlot nar2:osGetAllMD_MD ;
  dem:processFlow "<http://www.pericles-project.eu/ns/nar2#atpExtractMD> <http://www.pericles-project.eu/ns/nar2#atpGetMD> <http://www.pericles-project.eu/ns/nar2#atpUpdateMD>" ;
  dem:dataFlow '[{"sourceProcess":3 , "sourceSlot": "<http://www.pericles-project.eu/ns/nar2#isGetAllMD_DVA>", "targetProcess":0 , "targetSlot": "<http://www.pericles-project.eu/ns/nar2#isExtractMD_DVA>"} , {"sourceProcess":3 , "sourceSlot": "<http://www.pericles-project.eu/ns/nar2#isGetAllMD_Opt>", "targetProcess":0 , "targetSlot": "<http://www.pericles-project.eu/ns/nar2#isExtractMD_Opt>"} , {"sourceProcess":3 , "sourceSlot": "<http://www.pericles-project.eu/ns/nar2#isGetAllMD_ID", "targetProcess":1 , "targetSlot": "<http://www.pericles-project.eu/ns/nar2#isGetMD_ID>"} , {"sourceProcess":0 , "sourceSlot": "<http://www.pericles-project.eu/ns/nar2#osExtractMD_MD>", "targetProcess":2 , "targetSlot": "<http://www.pericles-project.eu/ns/nar2#isUpdateMD_oldMD>"} , {"sourceProcess":1 , "sourceSlot": "<http://www.pericles-project.eu/ns/nar2#osGetMD_MD>", "targetProcess":2 , "targetSlot": "<http://www.pericles-project.eu/ns/nar2#isUpdateMD_newMD>"} , {"sourceProcess":2 , "sourceSlot": "<http://www.pericles-project.eu/ns/nar2#osUpdateMD_MD>", "targetProcess": 3, "targetSlot": "<http://www.pericles-project.eu/ns/nar2#osGetAllMD_MD>"}]' .

# Input & Output Slots
nar2:isGetAllMD_DVA a dem:InputSlot ;
  dem:name "InputSlot Digital Video Artwork" ;
  dem:description "Input slot of the aggregated process Get All Metadata corresponding to the digital video artwork" ;
  dem:version "1" ;
  dem:dataType nar2:DigitalVideoArtwork ;
  dem:isOptional "false" .

 nar2:isGetAllMD_ID a dem:InputSlot ;
  dem:name "InputSlot Identifier" ;
  dem:description "Input slot of the aggregated process Get All Metadata corresponding to the metadata identifier at TMS" ;
  dem:version "1" ;
  dem:dataType nar2:ID ;
  dem:isOptional "false" .

nar2:isGetAllMD_Opt a dem:InputSlot ;
  dem:name "InputSlot Options" ;
  dem:description "Input slot of the aggregated process Get All Metadata corresponding to the extraction options" ;
  dem:version "1" ;
  dem:dataType nar2:Options ;
  dem:isOptional "true" .

nar2:osGetAllMD_MD a dem:OutputSlot ;
  dem:name "OutputSlot Metadata" ;
  dem:description "Output slot of the aggregated process Get All Metadata corresponding to the metadata" ;
  dem:version "1" ;
  dem:dataType nar2:Metadata .
###

############ ATOMIC PROCESSES ###############

#### Extract Metadata ####
nar2:atpExtractMD a dem:AtomicProcess ;
  dem:name "Extract Metadata" ;
  dem:description "Atomic process that extract the metadata of a digital video artwork" ;
  dem:version "1" ;
  dem:hasInputSlot nar2:isExtractMD_DVA, nar2:isExtractMD_Opt ;
  dem:hasOutputSlot nar2:osExtractMD_MD ;
  dem:hasImplementation nar2:impExtractMD .

# Input & Output Slots
nar2:isExtractMD_DVA a dem:InputSlot ;
  dem:name "InputSlot Digital Video Artwork" ;
  dem:description "Input slot of the atomic process Extract Metadata corresponding to the digital video artwork from which metadata is extracted" ;
  dem:version "1" ;
  dem:dataType nar2:DigitalVideoArtwork ;
  dem:isOptional "false" .

nar2:isExtractMD_Opt a dem:InputSlot ;
  dem:name "InputSlot Options" ;
  dem:description "Input slot of the atomic process Extract Metadata corresponding to the extraction options" ;
  dem:version "1" ;
  dem:dataType nar2:Options ;
  dem:isOptional "true" .

nar2:osExtractMD_MD a dem:OutputSlot ;
  dem:name "OutputSlot Metadata" ;
  dem:description "Output slot of the atomic process Extract Metadata corresponding to the extracted metadata" ;
  dem:version "1" ;
  dem:dataType nar2:Metadata .

# Implementation
nar2:impExtractMD a dem:Implementation ;
  dem:version "1" ;
  dem:implementationType "BPMN" ;
  dem:location "NoaCollection/Narrative2/ExtractMD.bpmn2" ;
  dem:checksum "" .
####

#### Get Metadata ####
nar2:atpGetMD a dem:AtomicProcess ;
  dem:name "Get Metadata" ;
  dem:description "Atomic process that get a metadata record from TMS" ;
  dem:version "1" ;
  dem:hasInputSlot nar2:isGetMD_ID ;
  dem:hasOutputSlot nar2:osGetMD_MD ;
  dem:hasImplementation nar2:impGetMD .

# Input & Output Slots
nar2:isGetMD_ID a dem:InputSlot ;
  dem:name "InputSlot Identifier" ;
  dem:description "Input slot of the atomic process Get Metadata corresponding to the Identifier of the metadata record at TMS" ;
  dem:version "1" ;
  dem:dataType nar2:ID ;
  dem:isOptional "false" .

nar2:osGetMD_MD a dem:OutputSlot ;
  dem:name "OutputSlot Metadata" ;
  dem:description "Output slot of the atomic process Get Metadata corresponding to the metadata retrieved from TMS" ;
  dem:version "1" ;
  dem:dataType nar2:Metadata .

# Implementation
nar2:impGetMD a dem:Implementation ;
  dem:version "1" ;
  dem:implementationType "BPMN" ;
  dem:location "NoaCollection/Narrative2/GetMD.bpmn2" ;
  dem:checksum "" .
####

#### Update Metadata ####
nar2:atpUpdateMD a dem:AtomicProcess ;
  dem:name "Update Metadata" ;
  dem:description "Atomic process that Update a metadata entity with new metadata info" ;
  dem:version "1" ;
  dem:hasInputSlot nar2:isUpdateMD_oldMD, nar2:isUpdateMD_newMD ;
  dem:hasOutputSlot nar2:osUpdateMD_updatedMD ;
  dem:hasImplementation nar2:impUpdateMD .

# Input & Output Slots
nar2:isUpdateMD_oldMD a dem:InputSlot ;
  dem:name "InputSlot old Metadata" ;
  dem:description "Input slot of the atomic process Update Metadata corresponding to the old metadata" ;
  dem:version "1" ;
  dem:dataType nar2:Metadata ;
  dem:isOptional "false" .

nar2:isUpdateMD_newMD a dem:InputSlot ;
  dem:name "InputSlot new Metadata" ;
  dem:description "Input slot of the atomic process Update Metadata corresponding to the new metadata" ;
  dem:version "1" ;
  dem:dataType nar2:Metadata ;
  dem:isOptional "false" .

nar2:osUpdateMD_updatedMD a dem:OutputSlot ;
  dem:name "OutputSlot Metadata" ;
  dem:description "Output slot of the atomic process Update Metadata corresponding to the updated metadata" ;
  dem:version "1" ;
  dem:dataType nar2:Metadata .

# Implementation
nar2:impUpdateMD a dem:Implementation ;
  dem:version "1" ;
  dem:implementationType "BPMN" ;
  dem:location "NoaCollection/Narrative2/UpdateMD.bpmn2" ;
  dem:checksum "" .
####
